<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fragments</title>
</head>

<body>
<!-- Common styles and scripts -->
<th:block th:fragment="common-head-elements">
    <script th:src="@{/js/removeButton.js}"></script>
    <script th:src="@{/js/table.js}"></script>

    <link rel="stylesheet" th:href="@{/css/style.css}"/>

    <!--    <style>-->
    <!--        body {-->
    <!--            font-family: Arial, sans-serif;-->
    <!--        }-->

    <!--        table {-->
    <!--            width: 100%;-->
    <!--            border-collapse: collapse;-->
    <!--            margin-bottom: 20px;-->
    <!--        }-->

    <!--        th, td {-->
    <!--            border: 1px solid #000;-->
    <!--            padding: 10px;-->
    <!--            text-align: left;-->
    <!--        }-->

    <!--        th {-->
    <!--            background-color: #1aa5ff;-->
    <!--            color: white;-->
    <!--        }-->

    <!--        tr:nth-child(even) {-->
    <!--            background-color: #f2f2f2;-->
    <!--        }-->

    <!--        .delete-link {-->
    <!--            color: red;-->
    <!--        }-->

    <!--        .form-group {-->
    <!--            display: flex;-->
    <!--            margin-bottom: 10px; /* Adjust spacing as needed */-->
    <!--            align-items: center;-->
    <!--        }-->

    <!--        .form-label {-->
    <!--            width: 150px; /* Adjust width as needed */-->
    <!--            margin-right: 10px; /* Adjust spacing as needed */-->
    <!--        }-->

    <!--        .form-input {-->
    <!--            flex: 1; /* Input takes up the remaining space */-->
    <!--        }-->

    <!--        .submit-button:hover {-->
    <!--            background-color: #6ce30c;-->
    <!--        }-->
    <!--    </style>-->


    <!-- Corrected and streamlined includes -->

    <!-- jQuery first -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Then Popper.js for Bootstrap 4 (if needed) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

<!--    BOOTSTRAP 4-->
<!--    &lt;!&ndash; Bootstrap 4 CSS and JS &ndash;&gt;-->
<!--    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">-->
<!--    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>-->

    <!-- Latest compiled and minified CSS -->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css"-->
<!--          integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu"-->
<!--          crossorigin="anonymous">-->

<!--    &lt;!&ndash; Optional theme &ndash;&gt;-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap-theme.min.css"-->
<!--          integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ"-->
<!--          crossorigin="anonymous">-->

<!--    &lt;!&ndash; Latest compiled and minified JavaScript &ndash;&gt;-->
<!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"-->
<!--            integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"-->
<!--            crossorigin="anonymous"></script>-->

<!--    BOOTSTRAP 5-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<!--    &lt;!&ndash; Select2 CSS and JS &ndash;&gt;-->
<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css">-->

    <!-- DataTables CSS and JS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

</th:block>

<div th:fragment="header">
    <span th:text="${#authentication.principal.username}">Username</span>
    <br>
    <form th:action="@{/logout}" method="post">
        <button type="submit">Logout</button>
    </form>
    <div th:insert="~{fragment :: locale}"></div>
</div>

<div th:fragment="errors" th:if="${errors}">
    <p style="color: red" th:each="error : ${errors}" th:text="#{${error.defaultMessage}}">Error message</p>
</div>

<!-- ${error.defaultMessage}-->
<div th:fragment="locale">
    <label th:text="#{ui.language.select}">Select language</label>
    <form action="" method="get">
        <select name="lang" onchange="this.form.submit()">
            <option value='' th:selected="${#locale.language == null}"></option>
            <option value="ru" th:selected="${#locale.language == 'ru'}">Русский</option>
            <option value="en" th:selected="${#locale.language == 'en'}">English</option>
            <option value="it" th:selected="${#locale.language == 'it'}">Italiano</option>
            <option value="es" th:selected="${#locale.language == 'es'}">Española</option>
            <option value="de" th:selected="${#locale.language == 'de'}">Deutsch</option>
        </select>
    </form>
</div>

<div th:fragment="common_fields">
    <th th:text="#{common.field.created_by}">Created By</th>
    <th th:text="#{common.field.created_at}">Created At</th>
    <th th:text="#{common.field.modified_by}">Modified By</th>
    <th th:text="#{common.field.modified_at}">Modified At</th>
</div>

<div th:fragment="logOutButton">
    <form th:action="@{/logout}" method="post">
        <button style="background-color: #047901" type="submit" th:text="#{ui.logout.button.label}">Log out</button>
    </form>
</div>

</body>
</html>